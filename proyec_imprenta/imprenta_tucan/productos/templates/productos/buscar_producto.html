{% extends 'base.html' %}
{% block title %}Buscar Producto{% endblock %}

{% block content %}
<h1 class="text-3xl font-black mb-6">üîç Buscar Producto</h1>

<form method="get" class="flex gap-2 mb-6">
  <input type="text" name="q" value="{{ request.GET.q }}" placeholder="Buscar producto..."
         class="w-full md:w-1/2 border border-gray-300 rounded-lg py-2 px-4 focus:ring-2 focus:ring-primary/40 focus:outline-none">
  <button class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition">Buscar</button>
</form>

{% if productos %}
  <div class="bg-white shadow rounded-xl overflow-hidden table-responsive">
    <table class="w-full min-w-[680px] text-left text-sm">
      <thead class="bg-gray-100">
        <tr>
          <th class="py-3 px-5">C√≥digo</th>
          <th class="py-3 px-5">Nombre</th>
          <th class="py-3 px-5 hidden sm:table-cell">Precio</th>
          <th class="py-3 px-5 hidden md:table-cell">Stock</th>
        </tr>
      </thead>
      <tbody>
        {% for producto in productos %}
        <tr class="border-b hover:bg-gray-50">
          <td class="py-3 px-5">{{ producto.codigo }}</td>
          <td class="py-3 px-5">{{ producto.nombre }}</td>
          <td class="py-3 px-5 hidden sm:table-cell">${{ producto.precio }}</td>
          <td class="py-3 px-5 hidden md:table-cell">{{ producto.stock }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <p class="text-gray-500 italic">No se encontraron resultados.</p>
{% endif %}
{% endblock %}
