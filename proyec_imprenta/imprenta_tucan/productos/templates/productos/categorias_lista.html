{% extends 'layouts/list_base.html' %}
{% block extra_head %}
  {% if request.GET.popup %}
  <style>
    nav, aside { display: none !important; }
    main { padding: 0 !important; }
    body { background: #fff !important; }
  </style>
  {% endif %}
{% endblock %}
{% block title %}Categorías de Producto{% endblock %}

{% block list_icon %}<span class="material-symbols-outlined text-3xl">category</span>{% endblock %}
{% block list_title_text %}Categorías{% endblock %}
{% block new_button_href %}{% url 'crear_categoria' %}{% if request.GET.popup %}?popup=1{% endif %}{% endblock %}
{% block new_button_label %}Nueva Categoría{% endblock %}
{% block search_placeholder %}Nombre o descripción...{% endblock %}
{% block clear_url %}{% url 'lista_categorias' %}{% if request.GET.popup %}?popup=1{% endif %}{% endblock %}
{% block order_fields_options %}
  <option value="nombre" selected>Nombre</option>
{% endblock %}

{% block list_content %}
<div class="bg-white shadow rounded-xl overflow-hidden table-responsive">
  <table class="w-full min-w-[600px] text-left text-sm">
    <thead class="bg-gray-100 text-gray-700">
      <tr>
        <th class="py-3 px-5">Nombre</th>
        <th class="py-3 px-5 hidden md:table-cell">Descripción</th>
        <th class="py-3 px-5 text-center">Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for c in categorias %}
      <tr class="border-b hover:bg-gray-50">
        <td class="py-3 px-5 font-medium">{{ c.nombreCategoria }}</td>
        <td class="py-3 px-5 hidden md:table-cell">{{ c.descripcion|default:'-' }}</td>
        <td class="py-3 px-5 flex justify-center gap-3">
          <a href="{% url 'editar_categoria' c.id %}{% if request.GET.popup %}?popup=1{% endif %}" class="text-amber-600 hover:text-amber-800 flex items-center gap-1" title="Editar">
            <span class="material-symbols-outlined text-sm">edit</span>
          </a>
          <a href="{% url 'eliminar_categoria' c.id %}{% if request.GET.popup %}?popup=1{% endif %}" class="text-red-600 hover:text-red-800 flex items-center gap-1" title="Eliminar">
            <span class="material-symbols-outlined text-sm">delete</span>
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="3" class="text-center py-6 text-gray-500">No hay categorías.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
